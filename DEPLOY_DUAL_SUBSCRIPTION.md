# üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–≤–æ–π–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ –∏ 3X-UI

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Supabase)
- –î–æ—Å—Ç—É–ø –∫ VPS —Å —Ç–µ–∫—É—â–∏–º –±–æ—Ç–æ–º
- –î–æ—Å—Ç—É–ø –∫ 3X-UI –ø–∞–Ω–µ–ª–∏ (51.250.117.234)

## –®–∞–≥–∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è

### 1Ô∏è‚É£ –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –Ω–∞ VPS

```bash
cd /path/to/spn-vpn-bot
git pull origin main
```

### 2Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã –Ω–æ–≤—ã–µ)

–¢–µ–∫—É—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å, –Ω–æ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å—ë —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:

```bash
pip install -r requirements.txt
```

### 3Ô∏è‚É£ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ë–î

–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–æ–ª–±—Ü—ã: `subscription_type`, `balance`, `xui_uuid`, `xui_username`, `xui_subscription_until`
- –°–æ–∑–¥–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

**–ú–∏–≥—Ä–∞—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã –∏ –Ω–µ —É–¥–∞–ª—è—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ!**

### 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è 3X-UI –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```env
# –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫-–µ—Å—Ç—å):
XUI_PANEL_URL=https://51.250.117.234:2053
XUI_PANEL_PATH=/sXvL8myMex46uSa3NP/panel
XUI_USERNAME=U0UiUl76S0
XUI_PASSWORD=2W1SwoZ0Ix
SUB_PORT=2096
SUB_EXTERNAL_HOST=51.250.117.234
INBOUND_ID=1
```

### 5Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è systemd (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è 24/7):
sudo systemctl restart spn-bot

# –ò–ª–∏ –µ—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –≤—Ä—É—á–Ω—É—é:
python main.py
```

### 6Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è systemd:
sudo journalctl -u spn-bot -f

# –ò–ª–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏
```

## –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ  
‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç `subscription_type = 'regular'` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)  
‚úÖ –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –≤—ã–±–∏—Ä–∞—Ç—å –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–∏–ø–∞–º–∏ –ø–æ–¥–ø–∏—Å–æ–∫  
‚úÖ –õ–æ–≥ –ø–æ–∫–∞–∂–µ—Ç: `‚ú® –í–°–ï –ú–ò–ì–†–ê–¶–ò–ò –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù–´ ‚ú®`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–æ–¥–ø–∏—Å–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–û—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É"
3. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞:
   - üîê –û–±—ã—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
   - üõ°Ô∏è –û–±—ã—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ + –û–±—Ö–æ–¥ –≥–ª—É—à–∏–ª–æ–∫

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞—Ä–∏—Ñ—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞

1. –í—ã–±–µ—Ä–∏—Ç–µ "–û–±—ã—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞" ‚Üí —Ç–∞—Ä–∏—Ñ—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 100, 249, 449, 990
2. –í—ã–±–µ—Ä–∏—Ç–µ "–û–±—ã—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ + –û–±—Ö–æ–¥ –≥–ª—É—à–∏–ª–æ–∫" ‚Üí —Ç–∞—Ä–∏—Ñ—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 150, 349, 599, 1190

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –≤ 3X-UI

1. –û–ø–ª–∞—Ç–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É —Å —Ç–∏–ø–æ–º "anti_jamming"
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ 3X-UI –ø–∞–Ω–µ–ª–∏ –ø–æ—è–≤–∏–ª—Å—è –Ω–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç (–º–æ–∂–Ω–æ –≤ –ª–æ–≥–∞—Ö)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –æ–±–µ —Å—Å—ã–ª–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–¥–ø–∏—Å–∫–∏

1. –ù–∞–∂–º–∏—Ç–µ "–ú–æ—è –ø–æ–¥–ø–∏—Å–∫–∞"
2. –î–ª—è `regular` —Ç–∏–ø–∞ ‚Üí –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–¥–Ω–∞ —Å—Å—ã–ª–∫–∞
3. –î–ª—è `anti_jamming` —Ç–∏–ø–∞ ‚Üí –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–≤–µ —Å—Å—ã–ª–∫–∏ (Remnawave + 3X-UI)

## –û—Ç–∫–∞—Ç (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫)

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é

```bash
git revert HEAD~0  # –û—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ 1 –∫–æ–º–º–∏—Ç –Ω–∞–∑–∞–¥
git push origin main
sudo systemctl restart spn-bot
```

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å –ë–î

–ú–∏–≥—Ä–∞—Ü–∏–∏ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã (–±–µ–∑–æ–ø–∞—Å–Ω—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞). –í—ã –º–æ–∂–µ—Ç–µ:

1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É –≤ –∫–æ–¥–µ
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç
3. –ú–∏–≥—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫ 3X-UI

```
‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ 3X-UI: ...
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —Ç–∞–∫—É—é –æ—à–∏–±–∫—É:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ 51.250.117.234:2053
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã XUI_USERNAME –∏ XUI_PASSWORD
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ 3X-UI –ø–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è 3X-UI –∫–ª–∏–µ–Ω—Ç–æ–≤

```
‚úÖ 3X-UI —Å–µ—Å—Å–∏—è —É—Å–ø–µ—à–Ω–æ –æ—Ç–∫—Ä—ã—Ç–∞
‚úÖ –ö–ª–∏–µ–Ω—Ç 3X-UI —Å–æ–∑–¥–∞–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è [user_id]
```

## –û—Ç–∫–∞—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Ç–∏–ø `regular`:

```sql
UPDATE users SET subscription_type = 'regular' WHERE tg_id = [user_id];
```

## FAQ

### Q: –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å?
A: –î–∞! –í—Å–µ —Ç–µ–∫—É—â–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç –∏–º–µ—Ç—å —Ç–∏–ø `regular` –∏ –∏—Ö –ø–æ–¥–ø–∏—Å–∫–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ.

### Q: –ß—Ç–æ –±—É–¥–µ—Ç —Å –±–∞–ª–∞–Ω—Å–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?
A: –°—Ç–æ–ª–±–µ—Ü –¥–æ–±–∞–≤–ª–µ–Ω –Ω–æ –ø–æ–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. –≠—Ç–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è –±—É–¥—É—â–µ–π —Å–∏—Å—Ç–µ–º—ã –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞/–∫–æ—à–µ–ª—å–∫–∞.

### Q: –ö–∞–∫ —É–¥–∞–ª–∏—Ç—å 3X-UI –∞–∫–∫–∞—É–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?
A: –°–µ–π—á–∞—Å —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å —Å user_id –∏ –º—ã –¥–æ–±–∞–≤–∏–º –∫–æ–º–∞–Ω–¥—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

### Q: –ß—Ç–æ –µ—Å–ª–∏ 3X-UI –±—É–¥–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ anti_jamming?
A: –û—à–∏–±–∫–∞ 3X-UI –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞—Ç–µ–∂. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç Remnawave –ø–æ–¥–ø–∏—Å–∫—É, –∞ 3X-UI –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ.

## –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- ‚úÖ –ö–æ–¥ –æ–±–Ω–æ–≤–ª—ë–Ω (`git pull`)
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (`pip install -r requirements.txt`)
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
- ‚úÖ –ë–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- ‚úÖ –õ–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞ –æ—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –î–≤–æ–π–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤—ã–±–æ—Ä —Ç–∏–ø–∞, —Ä–∞–∑–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã)
- ‚úÖ 3X-UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–æ–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è)
- ‚úÖ –û–±–µ —Å—Å—ã–ª–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –¥–ª—è anti_jamming
- ‚úÖ –°—Ç–∞—Ä—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `journalctl -u spn-bot -f` (–∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å)
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª `LARGE_UPDATE_SUMMARY.md` –¥–ª—è –¥–µ—Ç–∞–ª–µ–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã 3X-UI –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
