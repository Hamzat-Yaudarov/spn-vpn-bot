# ๐ ะะะะะะะขะซะะะะะ ะะ ะะะะะ ะกะะะะะะ ะก ะะฃะะฏ

**ะกัะตะฝะฐัะธะน:** ะะพะฒัะน VPS, ะฝัะถะฝะพ ัะฐะทะฒะตัะฝััั ะฑะพั + Supabase ั ะฝัะปั

**ะัะตะผั:** 20-25 ะผะธะฝัั

---

## ๐ ะะะะะ ะะะงะะะะ - ะะะะะะขะะะฌ ะญะขะ ะะะะงะะะะฏ

### 1. VPS ะะฝัะพัะผะฐัะธั
```
IP ะฐะดัะตั VPS: ะะะจ_IP_ะะะะะก
ะะฐัะพะปั root: ะะะจ_ะะะะะะฌ
SSH ะบะปัั (ะพะฟัะธะพะฝะฐะปัะฝะพ): /path/to/key.pem
```

### 2. Supabase ะะฝะฐัะตะฝะธั
```
SUPABASE_URL=https://rpzupbtpfcqnwlxzhndd.supabase.co
SUPABASE_KEY=sb_publishable_rAPEhWLXaexhMaKBbOvg-A_Xo1tz12I
DATABASE_URL=postgresql://postgres:PASSWORD@db.rpzupbtpfcqnwlxzhndd.supabase.co:5432/postgres
```

### 3. Bot ะะฝะฐัะตะฝะธั (ะธะท BotFather ะฒ Telegram)
```
BOT_TOKEN=8520411926:AAFcduqngB2ZMCp3RS4yZ8hwkcyf-yOmWyU
ADMIN_ID=6910097562
```

### 4. API ะะฝะฐัะตะฝะธั
```
SUPPORT_URL=https://t.me/your_support
NEWS_CHANNEL_USERNAME=your_channel
TELEGRAPH_AGREEMENT_URL=https://telegra.ph/your-url
REMNAWAVE_BASE_URL=https://spn.idlebat.online/api
REMNAWAVE_API_TOKEN=your_token
DEFAULT_SQUAD_UUID=your_uuid
CRYPTOBOT_TOKEN=your_token
CRYPTOBOT_API_URL=https://pay.crypt.bot/api
```

---

## โก ะะะะะะะซ ะะะฏ ะะะะะะ ะกะะะะะะ (ะบะพะฟะธััะน ะฟะพะพัะตัะตะดะฝะพ)

### ะญะขะะ 1๏ธโฃ - ะกะะะะะะ ะขะะะะะฆะซ ะ SUPABASE (3 ะผะธะฝััั)

**ะะฐัะธะฐะฝั A: ะงะตัะตะท ะฒะตะฑ-ะธะฝัะตััะตะนั**

1. ะะตัะตะนะดะธ https://supabase.com/dashboard
2. ะัะฑะตัะธ ัะฒะพะน ะฟัะพะตะบั
3. ะะตะฒะพะต ะผะตะฝั โ **SQL Editor**
4. ะะฐะถะผะธ **+ New Query**
5. ะกะบะพะฟะธััะน **ะฒะตัั ัะตะบัั** ะธะท ัะฐะนะปะฐ `schema.sql`
6. ะััะฐะฒั ะฒ ัะตะดะฐะบัะพั
7. ะะฐะถะผะธ **Run** (ะธะปะธ Ctrl+Enter)

**ะะพัะพะฒะพ, ะบะพะณะดะฐ ะฒะธะดะธัั:** `Query completed successfully` โ

---

**ะะฐัะธะฐะฝั B: ะงะตัะตะท pgAdmin/psql**

```bash
# ะะฐ ัะฒะพัะผ ะะ (ะะ ะฝะฐ VPS):
psql -h db.rpzupbtpfcqnwะปัzhndd.supabase.co \
     -U postgres \
     -d postgres \
     -f /path/to/schema.sql
# ะะฒะตะดะธ ะฟะฐัะพะปั
```

---

### ะญะขะะ 2๏ธโฃ - ะะะะะะฎะงะะกะฌ ะ ะะะะะะฃ ะกะะะะะะฃ (30 ัะตะบัะฝะด)

```bash
# ะัะบัะพะน ัะตัะผะธะฝะฐะป ะธ ะฒัะฟะพะปะฝะธ:
ssh root@ะะะจ_IP_ะะะะะก
# ะะฒะตะดะธ ะฟะฐัะพะปั

# ะะปะธ ะตัะปะธ ะธัะฟะพะปัะทัะตัั SSH ะบะปัั:
ssh -i /path/to/key.pem root@ะะะจ_IP_ะะะะะก
```

โ **ะะตะทัะปััะฐั:** ะขั ะฒ ัะตัะผะธะฝะฐะปะต VPS (ะฒะธะดะธัั `root@hostname:~#`)

---

### ะญะขะะ 3๏ธโฃ - ะะะะะะะฏะะจะฌ ะกะะกะขะะะฃ (2 ะผะธะฝััั)

```bash
# ะะฑะฝะพะฒะปัะตัั ัะฟะธัะพะบ ะฟะฐะบะตัะพะฒ
apt update

# ะะฑะฝะพะฒะปัะตัั ะฟะฐะบะตัั
apt upgrade -y

# ะฃััะฐะฝะฐะฒะปะธะฒะฐะตัั ะฝะตะพะฑัะพะดะธะผะพะต
apt install -y git python3 python3-pip python3-venv curl wget nano
```

โ **ะะตะทัะปััะฐั:** ะกะธััะตะผะฐ ะพะฑะฝะพะฒะปะตะฝะฐ, ะฝะตะพะฑัะพะดะธะผัะต ะฟะฐะบะตัั ัััะฐะฝะพะฒะปะตะฝั

---

### ะญะขะะ 4๏ธโฃ - ะะะะะะะฃะะจะฌ ะะะะะะข (1 ะผะธะฝััะฐ)

```bash
# ะะตัะตัะพะดะธัั ะฒ ะบะพัะตะฝั
cd /root

# ะะปะพะฝะธััะตัั ัะตะฟะพะทะธัะพัะธะน
git clone https://github.com/YOUR_USERNAME/spn-vpn-bot.git

# ะะตัะตัะพะดะธัั ะฒ ะฟะฐะฟะบั ะฟัะพะตะบัะฐ
cd /root/spn-vpn-bot

# ะัะพะฒะตััะตัั ััะพ ัะบะฐัะฐะปะพัั
ls -la
# ะะพะปะถะตะฝ ะฒะธะดะตัั: main.py, config.py, database.py, handlers/, services/, ะธ ะดััะณะธะต ัะฐะนะปั
```

โ **ะะตะทัะปััะฐั:** ะะพะด ัะบะฐัะฐะฝ

---

### ะญะขะะ 5๏ธโฃ - ะกะะะะะะจะฌ ะะะะขะฃะะะฌะะะ ะะะะฃะะะะะ (1 ะผะธะฝััะฐ)

```bash
# ะะตัะตัะพะดะธัั ะฒ ะฟะฐะฟะบั ะฟัะพะตะบัะฐ
cd /root/spn-vpn-bot

# ะกะพะทะดะฐััั ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต
python3 -m venv venv

# ะะบัะธะฒะธััะตัั ะตะณะพ
source venv/bin/activate

# ะะฑะฝะพะฒะปัะตัั pip
pip install --upgrade pip

# ะฃััะฐะฝะฐะฒะปะธะฒะฐะตัั ะทะฐะฒะธัะธะผะพััะธ
pip install -r requirements.txt

# ะััะพะดะธัั ะธะท ะฒะธัััะฐะปัะฝะพะณะพ ะพะบััะถะตะฝะธั
deactivate
```

โ **ะะตะทัะปััะฐั:** ะะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต ัะพะทะดะฐะฝะพ, ะทะฐะฒะธัะธะผะพััะธ ัััะฐะฝะพะฒะปะตะฝั

---

### ะญะขะะ 6๏ธโฃ - ะกะะะะะะจะฌ .env ะคะะะ (2 ะผะธะฝััั)

```bash
# ะกะพะทะดะฐััั ะธ ัะตะดะฐะบัะธััะตัั .env
nano /root/spn-vpn-bot/.env
```

**ะััะฐะฒะปัะตัั ััะพั ัะตะบัั (ะทะฐะผะตะฝะธ ะทะฝะฐัะตะฝะธั ะฝะฐ ะกะะะ):**

```env
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
#                TELEGRAM BOT
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

BOT_TOKEN=8520411926:AAFcduqngB2ZMCp3RS4yZ8hwkcyf-yOmWyU
ADMIN_ID=6910097562

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
#           SUPPORT & NEWS CHANNELS
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

SUPPORT_URL=https://t.me/your_support
NEWS_CHANNEL_USERNAME=your_channel_name
TELEGRAPH_AGREEMENT_URL=https://telegra.ph/your-agreement-url

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
#              REMNAWAVE API CONFIG
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

REMNAWAVE_BASE_URL=https://spn.idlebat.online/api
REMNAWAVE_API_TOKEN=your_remnawave_token
DEFAULT_SQUAD_UUID=your_squad_uuid

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
#            CRYPTOBOT PAYMENT CONFIG
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

CRYPTOBOT_TOKEN=your_cryptobot_token
CRYPTOBOT_API_URL=https://pay.crypt.bot/api

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
#          SUPABASE DATABASE CONFIG
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

SUPABASE_URL=https://rpzupbtpfcqnwlxzhndd.supabase.co
SUPABASE_KEY=sb_publishable_rAPEhWLXaexhMaKBbOvg-A_Xo1tz12I
DATABASE_URL=postgresql://postgres:PASSWORD@db.rpzupbtpfcqnwlxzhndd.supabase.co:5432/postgres

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
#                LOGGING CONFIG
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

LOG_LEVEL=INFO
```

โ๏ธ **ะะะะะะ ะฒัะต ะทะฝะฐัะตะฝะธั ะฝะฐ ะกะะะ!**

**ะกะพััะฐะฝัะตัั:**
- ะะฐะถะผะธ **Ctrl+O**
- ะะฐะถะผะธ **Enter**
- ะะฐะถะผะธ **Ctrl+X**

**ะัะพะฒะตััะตัั ััะพ ัะพััะฐะฝะธะปะพัั:**
```bash
cat /root/spn-vpn-bot/.env | head -20
# ะะพะปะถะฝั ะฒะธะดะตัั ะฒัะต ัะฒะพะธ ะฟะตัะตะผะตะฝะฝัะต
```

โ **ะะตะทัะปััะฐั:** .env ัะพะทะดะฐะฝ

---

### ะญะขะะ 7๏ธโฃ - ะขะะกะขะะะฃะะจะฌ ะะะะะะฎะงะะะะ ะ SUPABASE (2 ะผะธะฝััั)

```bash
# ะะบัะธะฒะธััะตัั ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต
source /root/spn-vpn-bot/venv/bin/activate

# ะััะฐะตัััั ะทะฐะฟัััะธัั ะฑะพัะฐ (ะดะปั ัะตััะฐ ะฟะพะดะบะปััะตะฝะธั)
python3 /root/spn-vpn-bot/main.py

# ะัะปะธ ะฒ ะปะพะณะฐั ะฒะธะดะธัั "Database pool initialized successfully" - ะะขะะะงะะ!
# ะัะปะธ ะฒะธะดะธัั ะบัะฐัะฝัะต ะพัะธะฑะบะธ - ัะผะพััะธ ัะฐะทะดะตะป ะะะะะฉะฌ ะฒะฝะธะทั
```

ะะฐะถะผะธ **Ctrl+C** ััะพะฑั ะพััะฐะฝะพะฒะธัั

โ **ะะตะทัะปััะฐั:** ะะพะดะบะปััะตะฝะธะต ะบ Supabase ัะฐะฑะพัะฐะตั

---

### ะญะขะะ 8๏ธโฃ - ะกะะะะะะจะฌ SYSTEMD ะกะะะะะก (2 ะผะธะฝััั)

```bash
# ะกะพะทะดะฐััั ัะฐะนะป ัะตัะฒะธัะฐ
sudo nano /etc/systemd/system/spn-bot.service
```

**ะััะฐะฒะปัะตัั ััะพั ัะตะบัั:**

```ini
[Unit]
Description=SPN VPN Bot
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/root/spn-vpn-bot
Environment="PATH=/root/spn-vpn-bot/venv/bin"
ExecStart=/root/spn-vpn-bot/venv/bin/python3 /root/spn-vpn-bot/main.py
Restart=always
RestartSec=10
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
```

**ะกะพััะฐะฝัะตัั:**
- ะะฐะถะผะธ **Ctrl+O**
- ะะฐะถะผะธ **Enter**
- ะะฐะถะผะธ **Ctrl+X**

---

### ะญะขะะ 9๏ธโฃ - ะะะขะะะะะฃะะจะฌ ะ ะะะะฃะกะะะะจะฌ ะกะะะะะก (1 ะผะธะฝััะฐ)

```bash
# ะะฑะฝะพะฒะปัะตัั systemd
sudo systemctl daemon-reload

# ะะบะปััะฐะตัั ะฐะฒัะพะทะฐะฟััะบ
sudo systemctl enable spn-bot

# ะะฐะฟััะบะฐะตัั ะฑะพัะฐ
sudo systemctl start spn-bot

# ะัะพะฒะตััะตัั ััะฐััั
sudo systemctl status spn-bot
# ะะพะปะถะฝะพ ะฑััั: Active: active (running)
```

โ **ะะตะทัะปััะฐั:** ะะพั ะทะฐะฟััะตะฝ ะธ ะฑัะดะตั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะฟััะบะฐัััั ะฟัะธ ะฟะตัะตะทะฐะณััะทะบะต

---

### ะญะขะะ ๐ - ะะะะะะะฏะะจะฌ ะะะะ (1 ะผะธะฝััะฐ)

```bash
# ะกะผะพััะธัั ะปะพะณะธ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
sudo journalctl -u spn-bot -f
```

**ะัะตัั ััะธ ัะพะพะฑัะตะฝะธั:**
```
โ "Database pool initialized successfully"
โ "All handlers registered"
โ "Bot started polling..."
```

**ะัะปะธ ะฒะธะดะธัั ััะธ - ะะกะ ะะขะะะงะะ! ๐**

ะะฐะถะผะธ **Ctrl+C** ััะพะฑั ะฒัะนัะธ

---

### ะญะขะะ 1๏ธโฃ1๏ธโฃ - ะขะะกะขะะะฃะะจะฌ ะ TELEGRAM (1 ะผะธะฝััะฐ)

1. ะัะบัะพะน Telegram
2. ะะฐะนะดะธ ะฑะพัะฐ ะฟะพ ัะพะบะตะฝั ะธะปะธ ะฟะพ username
3. ะะฐะฟะธัะธ ะฑะพัั `/start`
4. ะัะพะฒะตัั ััะพ ะฒัั ัะฐะฑะพัะฐะตั

โ **ะะตะทัะปััะฐั:** ะะพั ัะฐะฑะพัะฐะตั ั Supabase ะฝะฐ ะฝะพะฒะพะผ ัะตัะฒะตัะต!

---

## ๐ ะะะะะฉะฌ - ะขะะะะงะะซะ ะะะะะะะะซ

### โ "fatal: could not read Username"

**ะัะธัะธะฝะฐ:** ะะตั ะดะพัััะฟะฐ ะบ GitHub ัะตะฟะพ

**ะะตัะตะฝะธะต:**

```bash
# ะะฐัะธะฐะฝั 1: ะัะปะธ ัะตะฟะพ ะฟัะฑะปะธัะฝัะน (ะฝะต ะฝัะถะฝะฐ ะฐััะตะฝัะธัะธะบะฐัะธั)
# ะัะพััะพ ัะบะพะฟะธััะน ัะฐะนะปั ัะตัะตะท SCP ั ะะ:
scp -r ~/path/to/spn-vpn-bot root@ะะะจ_IP:/root/

# ะะฐัะธะฐะฝั 2: ะัะปะธ ัะตะฟะพ ะฟัะธะฒะฐัะฝัะน, ะธัะฟะพะปัะทัะน HTTPS ั ัะพะบะตะฝะพะผ
git clone https://YOUR_GITHUB_TOKEN@github.com/YOUR_USERNAME/spn-vpn-bot.git

# ะะปะธ ะธัะฟะพะปัะทัะน SSH ะบะปัั (ะตัะปะธ ะฝะฐัััะพะตะฝ ะฝะฐ GitHub)
git clone git@github.com:YOUR_USERNAME/spn-vpn-bot.git
```

---

### โ "Connection refused" ะฟัะธ ะทะฐะฟััะบะต ะฑะพัะฐ

**ะัะธัะธะฝะฐ:** ะกัpabase ะฝะตะดะพัััะฟะฝะฐ ะธะปะธ DATABASE_URL ะฝะตะฟัะฐะฒะธะปัะฝัะน

**ะัะพะฒะตัะบะธ:**

```bash
# 1. ะัะพะฒะตัั ััะพ DATABASE_URL ะฟัะฐะฒะธะปัะฝัะน
cat /root/spn-vpn-bot/.env | grep DATABASE_URL

# 2. ะขะตััะธััะน ะฟะพะดะบะปััะตะฝะธะต (ะตัะปะธ psql ัััะฐะฝะพะฒะปะตะฝ ะฝะฐ VPS)
apt install -y postgresql-client
psql -h db.rpzupbtpfcqnwlxzhndd.supabase.co \
     -U postgres \
     -d postgres \
     -c "SELECT 1"
# ะะฒะตะดะธ ะฟะฐัะพะปั

# 3. ะัะปะธ "password authentication failed":
# - ะัะพะฒะตัั ััะพ ะฟะฐัะพะปั ะฟัะฐะฒะธะปัะฝัะน ะฒ DATABASE_URL
# - ะฃะฑะตะดะธัั ััะพ ะฝะตั ัะธะผะฒะพะปะพะฒ < > ะฒ ะฟะฐัะพะปะต

# 4. ะัะปะธ "could not connect":
# - IP VPS ะผะพะถะตั ะฑััั ะทะฐะฑะปะพะบะธัะพะฒะฐะฝ ะฒ Supabase
# - ะฃะทะฝะฐะน IP VPS
curl ifconfig.me

# - ะะพะฑะฐะฒั IP ะฒ Supabase:
# https://supabase.com/dashboard
# โ Project Settings โ Database โ Firewall rules
# โ Add IPv4 address
```

---

### โ "ModuleNotFoundError: No module named 'asyncpg'"

**ะัะธัะธะฝะฐ:** asyncpg ะฝะต ัััะฐะฝะพะฒะปะตะฝ

**ะะตัะตะฝะธะต:**

```bash
source /root/spn-vpn-bot/venv/bin/activate
pip install asyncpg>=0.28.0
deactivate
sudo systemctl restart spn-bot
```

---

### โ "Table 'users' doesn't exist"

**ะัะธัะธะฝะฐ:** ะะต ัะพะทะดะฐะป ัะฐะฑะปะธัั ะฒ Supabase

**ะะตัะตะฝะธะต:**

```
ะะตัะตะนะดะธ ะฝะฐ https://supabase.com/dashboard
โ SQL Editor โ New Query
โ ะกะบะพะฟะธััะน ะฒะตัั ะบะพะด ะธะท schema.sql
โ ะััะฐะฒั โ Run
```

---

### โ ะะพั ะทะฐะฟััะตะฝ ะฝะพ ะฝะต ะพัะฒะตัะฐะตั ะฒ Telegram

```bash
# 1. ะัะพะฒะตัั ััะพ BOT_TOKEN ะฟัะฐะฒะธะปัะฝัะน
cat /root/spn-vpn-bot/.env | grep BOT_TOKEN

# 2. ะัะพะฒะตัั ััะฐััั ะฑะพัะฐ
sudo systemctl status spn-bot

# 3. ะะพัะผะพััะธ ะปะพะณะธ
sudo journalctl -u spn-bot -n 50

# 4. ะะตัะตะทะฐะณััะทะธ ะฑะพัะฐ
sudo systemctl restart spn-bot

# 5. ะะพัะผะพััะธ ะปะพะณะธ ะฟะพัะปะต ะฟะตัะตะทะฐะณััะทะบะธ
sudo journalctl -u spn-bot -f
```

---

### โ "pip: command not found" ะธะปะธ "python3: command not found"

**ะัะธัะธะฝะฐ:** Python ะธะปะธ pip ะฝะต ัััะฐะฝะพะฒะปะตะฝั

**ะะตัะตะฝะธะต:**

```bash
# ะฃััะฐะฝะพะฒะปัะตัั Python ะธ pip
apt install -y python3 python3-pip python3-venv

# ะัะพะฒะตััะตัั ะฒะตััะธั
python3 --version  # ะะพะปะถะฝะฐ ะฑััั 3.10+
pip3 --version
```

---

## ๐ ะะะะะะะซะ ะะะะะะะซ ะะะฏ ะะะะะะ ะกะะะะะะ

```bash
# ะัะพะฒะตัะธัั IP ะฐะดัะตั VPS
curl ifconfig.me

# ะัะพะฒะตัะธัั ัะฒะพะฑะพะดะฝะพะต ะผะตััะพ ะฝะฐ ะดะธัะบะต
df -h

# ะัะพะฒะตัะธัั ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะฟะฐะผััะธ
free -h

# ะัะพัะผะพัั ะฒัะตั ะฟัะพัะตััะพะฒ Python
ps aux | grep python3

# ะฃะดะฐะปะธัั ััะฐััะน ะฟัะพะตะบั (ะตัะปะธ ะฝัะถะฝะพ ะฟะตัะตะดะตะปะฐัั)
rm -rf /root/spn-vpn-bot

# ะะพัะผะพััะตัั ัะฐะทะผะตั ะฟะฐะฟะบะธ ะฟัะพะตะบัะฐ
du -sh /root/spn-vpn-bot

# ะะพัะผะพััะตัั ัะฐะทะผะตั ะฑะฐะทั ะดะฐะฝะฝัั (ัะพัั ัะถะต ะฒ ะพะฑะปะฐะบะต)
du -sh /root/spn-vpn-bot/spn_vpn_bot.db

# ะะตัะตะทะฐะณััะทะธัั ัะตัะฒะตั (ะตัะปะธ ะฝัะถะฝะพ)
sudo reboot
# ะะพัะปะต ะฟะตัะตะทะฐะณััะทะบะธ ะฑะพั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะฟัััะธััั ะฑะปะฐะณะพะดะฐัั systemd

# ะััะฐะฝะพะฒะธัั ะฑะพัะฐ
sudo systemctl stop spn-bot

# ะะฐะฟัััะธัั ะฑะพัะฐ
sudo systemctl start spn-bot

# ะะตัะตะทะฐะณััะทะธัั ะฑะพัะฐ
sudo systemctl restart spn-bot

# ะัะพะฒะตัะธัั ััะฐััั
sudo systemctl status spn-bot

# ะกะผะพััะตัั ะฟะพัะปะตะดะฝะธะต 100 ัััะพะบ ะปะพะณะพะฒ
sudo journalctl -u spn-bot -n 100

# ะกะผะพััะตัั ะปะพะณะธ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
sudo journalctl -u spn-bot -f

# ะะพะธัะบ ะพัะธะฑะพะบ ะฒ ะปะพะณะฐั
sudo journalctl -u spn-bot | grep -i error

# ะัะธััะธัั ะปะพะณะธ systemd (ะตัะปะธ ะผะฝะพะณะพ ะทะฐะฝะธะผะฐัั ะผะตััะฐ)
sudo journalctl --vacuum=100M
```

---

## โ ะคะะะะะฌะะซะ ะงะะ-ะะะกะข ะะะฏ ะะะะะะ ะกะะะะะะ

ะะพัะปะต ัะฐะทะฒััััะฒะฐะฝะธั ะฟัะพะฒะตัั:

- [ ] `ssh root@ะะะจ_IP` - ะฟะพะดะบะปััะตะฝะธะต ัะฐะฑะพัะฐะตั
- [ ] `/root/spn-vpn-bot` - ะฟะฐะฟะบะฐ ะฟัะพะตะบัะฐ ัััะตััะฒัะตั
- [ ] `/root/spn-vpn-bot/.env` - .env ัะฐะนะป ัะพะทะดะฐะฝ ะธ ัะพะดะตัะถะธั ะฒัะต ะฟะตัะตะผะตะฝะฝัะต
- [ ] `pip list | grep asyncpg` - asyncpg ัััะฐะฝะพะฒะปะตะฝ
- [ ] `/etc/systemd/system/spn-bot.service` - ัะตัะฒะธั ัะพะทะดะฐะฝ
- [ ] `sudo systemctl status spn-bot` - ะฟะพะบะฐะทัะฒะฐะตั `active (running)`
- [ ] `sudo journalctl -u spn-bot -f` - ะปะพะณะธ ะฟะพะบะฐะทัะฒะฐัั "Database pool initialized successfully"
- [ ] ะะพั ะพัะฒะตัะฐะตั ะฝะฐ `/start` ะฒ Telegram
- [ ] https://supabase.com/dashboard - ะฒะธะดะฝั ัะฐะฑะปะธัั ะฒ ะะ

---

## ๐ ะะกะ ะะะขะะะ!

ะขะตะฟะตัั ั ัะตะฑั ะตััั:
- โ **ะะพะฒัะน VPS** ั ัััะฐะฝะพะฒะปะตะฝะฝัะผ ะฑะพัะพะผ
- โ **PostgreSQL ะฒ Supabase** ะฒ ะพะฑะปะฐะบะต
- โ **ะะฒัะพะทะฐะฟััะบ** - ะฑะพั ะทะฐะฟััะบะฐะตััั ะฟัะธ ะฟะตัะตะทะฐะณััะทะบะต
- โ **ะะพะณะธัะพะฒะฐะฝะธะต** - ะผะพะถะฝะพ ัะผะพััะตัั ะปะพะณะธ ัะตัะตะท systemd

**ะะพั ัะฐะฑะพัะฐะตั 24/7 ะดะฐะถะต ะบะพะณะดะฐ ัั ัะฟะธัั! ๐**

---

## ๐ก ะะกะะ ะฅะะงะะจะฌ ะกะะะะะขะฌ ะะะะฌะจะ

### ะะพะฑะฐะฒะธัั Firewall (ะทะฐัะธัะฐ ะพั ัะฐะบะตัะพะฒ)
```bash
apt install -y ufw
ufw default deny incoming
ufw default allow outgoing
ufw allow ssh
ufw allow 22
ufw enable
```

### ะะพะฑะฐะฒะธัั ะผะพะฝะธัะพัะธะฝะณ (ะทะฝะฐัั ะบะพะณะดะฐ ััะพ-ัะพ ัะปะพะผะฐะปะพัั)
```bash
# ะฃััะฐะฝะพะฒะธัั htop ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ
apt install -y htop
htop  # ะะฐะถะผะธ q ััะพะฑั ะฒัะนัะธ

# ะะปะธ ะธัะฟะพะปัะทะพะฒะฐัั Sentry ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ ะพัะธะฑะพะบ
# (ััะตะฑัะตั ะพัะดะตะปัะฝะฐั ะฝะฐัััะพะนะบะฐ, ัะผะพััะธ Sentry docs)
```

### ะกะดะตะปะฐัั ัะตะทะตัะฒะฝัั ะบะพะฟะธั ะฟัะพะตะบัะฐ
```bash
tar -czf /root/spn-vpn-bot-backup-$(date +%Y%m%d).tar.gz /root/spn-vpn-bot
```

### ะะบะปััะธัั ัะธััะพะฒะฐะฝะธะต ะดะธัะบะฐ (ะตัะปะธ ะพัะตะฝั ะฒะฐะถะฝะฐ ะฑะตะทะพะฟะฐัะฝะพััั)
```bash
# ะญัะพ ััะตะฑัะตั ะฟะตัะตัััะฐะฝะพะฒะบั ัะตัะฒะตัะฐ, ะพะฑััะฝะพ ะฝะต ะฝัะถะฝะพ ะดะปั ะฑะพัะฐ
```

---

## ๐จ ะะะะะซะ ะะะะะงะะะะฏ

1. **ะะตะทะตัะฒะฝัะต ะบะพะฟะธะธ ะะ**: Supabase ัะฐะผ ะดะตะปะฐะตั ัะตะทะตัะฒะฝัะต ะบะพะฟะธะธ ะบะฐะถะดัะน ัะฐั
2. **ะะฑะฝะพะฒะปะตะฝะธั**: ะัะพััะพ `git pull origin main` + `sudo systemctl restart spn-bot`
3. **IP Firewall Supabase**: ะะพะฑะฐะฒั IP VPS ะฒ Supabase ะตัะปะธ ะฝัะถะฝะฐ ะดะพะฟะพะปะฝะธัะตะปัะฝะฐั ะฑะตะทะพะฟะฐัะฝะพััั
4. **ะะฐัะพะปะธ**: ะะธะบะพะณะดะฐ ะฝะต ะฟัะฑะปะธะบัะน .env ะฒ GitHub (ั ัะตะฑั ะดะพะปะถะตะฝ ะฑััั .gitignore)
5. **ะะฐัััะฐะฑะธัะพะฒะฐะฝะธะต**: PostgreSQL ะฝะฐ Supabase ะผะพะถะตั ัะฟัะฐะฒะธัััั ั ะผะธะปะปะธะพะฝะฐะผะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน

---

## โ ะะกะะ ะะกะขะะะะกะฌ ะะะะะะกะซ

1. ะะพัะผะพััะธ ะปะพะณะธ: `sudo journalctl -u spn-bot -f`
2. ะัะพะฒะตัั .env: `cat /root/spn-vpn-bot/.env`
3. ะกะผะพััะธ ะดะพะบัะผะตะฝัะฐัะธั ะฒ ะฟัะพะตะบัะต:
   - QUICK_START_SUPABASE.md
   - SUPABASE_MIGRATION.md
   - DEPLOY_UPDATE_EXISTING_SERVER.md (ััะพั ัะฐะนะป)
